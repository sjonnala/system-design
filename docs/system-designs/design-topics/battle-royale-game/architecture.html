<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battle Royale Game System Design Blueprint</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3a8a 0%, #7c3aed 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #7c3aed;
        }

        .header h1 {
            font-size: 2.5em;
            color: #2d3748;
            margin-bottom: 10px;
        }

        .header .subtitle {
            font-size: 1.3em;
            color: #7c3aed;
            font-weight: 600;
        }

        .tags {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }

        .tag {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
        }

        .tag.realtime { background: #fee2e2; color: #991b1b; }
        .tag.lowlatency { background: #dbeafe; color: #1e40af; }
        .tag.scale { background: #fef3c7; color: #92400e; }

        .architecture {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 20px;
            margin-top: 30px;
        }

        .section {
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #e2e8f0;
            position: relative;
            min-height: 200px;
        }

        .section-title {
            font-weight: 700;
            font-size: 1.1em;
            margin-bottom: 15px;
            color: #1a202c;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .component {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            border: 2px solid #cbd5e0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .component:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
        }

        .component-name {
            font-weight: 700;
            font-size: 1em;
            margin-bottom: 8px;
            color: #2d3748;
        }

        .component-details {
            font-size: 0.85em;
            color: #4a5568;
            line-height: 1.6;
        }

        .component-details ul {
            margin-left: 15px;
            margin-top: 5px;
        }

        .component-details li {
            margin: 3px 0;
        }

        /* Color themes for different sections */
        .client-section {
            background: linear-gradient(135deg, #bfdbfe 0%, #60a5fa 100%);
            grid-column: span 4;
        }

        .cdn-section {
            background: linear-gradient(135deg, #a5f3fc 0%, #22d3ee 100%);
            grid-column: span 4;
        }

        .voice-section {
            background: linear-gradient(135deg, #fde68a 0%, #fbbf24 100%);
            grid-column: span 4;
        }

        .loadbalancer-section {
            background: linear-gradient(135deg, #c7d2fe 0%, #818cf8 100%);
            grid-column: span 6;
        }

        .gateway-section {
            background: linear-gradient(135deg, #fecaca 0%, #f87171 100%);
            grid-column: span 6;
        }

        .matchmaking-section {
            background: linear-gradient(135deg, #d9f99d 0%, #84cc16 100%);
            grid-column: span 4;
        }

        .auth-section {
            background: linear-gradient(135deg, #fbcfe8 0%, #f472b6 100%);
            grid-column: span 4;
        }

        .lobby-section {
            background: linear-gradient(135deg, #e9d5ff 0%, #c084fc 100%);
            grid-column: span 4;
        }

        .gsm-section {
            background: linear-gradient(135deg, #fed7aa 0%, #fb923c 100%);
            grid-column: span 12;
        }

        .gameserver-section {
            background: linear-gradient(135deg, #fca5a5 0%, #ef4444 100%);
            grid-column: span 6;
        }

        .anticheat-section {
            background: linear-gradient(135deg, #fde047 0%, #facc15 100%);
            grid-column: span 6;
        }

        .database-section {
            background: linear-gradient(135deg, #99f6e4 0%, #2dd4bf 100%);
            grid-column: span 4;
        }

        .analytics-section {
            background: linear-gradient(135deg, #bae6fd 0%, #38bdf8 100%);
            grid-column: span 4;
        }

        .storage-section {
            background: linear-gradient(135deg, #ddd6fe 0%, #a78bfa 100%);
            grid-column: span 4;
        }

        .flow-indicator {
            font-size: 0.75em;
            color: #7c3aed;
            font-weight: 600;
            margin: 10px 0;
            padding: 5px 10px;
            background: rgba(124, 58, 237, 0.1);
            border-radius: 5px;
            display: inline-block;
        }

        .key-metrics {
            background: #fef3c7;
            padding: 15px;
            border-radius: 10px;
            margin-top: 30px;
            border: 2px solid #fbbf24;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .metric-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #7c3aed;
        }

        .metric-value {
            font-size: 1.5em;
            font-weight: 700;
            color: #7c3aed;
        }

        .metric-label {
            font-size: 0.9em;
            color: #4a5568;
            margin-top: 5px;
        }

        .code-snippet {
            background: #1e293b;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            margin-top: 10px;
            overflow-x: auto;
        }

        .highlight {
            color: #fbbf24;
            font-weight: 600;
        }

        @media (max-width: 1400px) {
            .architecture {
                grid-template-columns: repeat(6, 1fr);
            }
            .section { grid-column: span 6 !important; }
        }

        @media (max-width: 768px) {
            .architecture {
                grid-template-columns: 1fr;
            }
            .section { grid-column: span 1 !important; }
        }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>üéÆ Battle Royale Game System Design Blueprint</h1>
        <div class="subtitle">Real-time Multiplayer Architecture - 100 Players per Match</div>
        <div class="tags">
            <span class="tag realtime">60Hz Tick Rate</span>
            <span class="tag lowlatency">&lt;50ms Latency</span>
            <span class="tag scale">10M+ Concurrent Players</span>
        </div>
    </div>

    <div class="architecture">
        <!-- Client Layer -->
        <div class="section client-section">
            <div class="section-title">üéÆ CLIENT LAYER</div>
            <div class="component">
                <div class="component-name">Game Client (Unreal/Unity)</div>
                <div class="component-details">
                    <strong>Technologies:</strong>
                    <ul>
                        <li>Unreal Engine 5 / Unity</li>
                        <li>Custom UDP Netcode</li>
                        <li>Client-side Prediction</li>
                        <li>Lag Compensation</li>
                        <li>Asset Streaming</li>
                    </ul>
                    <strong>Platforms:</strong>
                    <ul>
                        <li>PC (Windows, Mac, Linux)</li>
                        <li>Console (PS5, Xbox, Switch)</li>
                        <li>Mobile (iOS, Android)</li>
                    </ul>
                </div>
            </div>
            <div class="flow-indicator">‚Üì Player Inputs @ 60 FPS</div>
        </div>

        <!-- CDN Layer -->
        <div class="section cdn-section">
            <div class="section-title">‚ö° CONTENT DELIVERY</div>
            <div class="component">
                <div class="component-name">CDN / Edge Network</div>
                <div class="component-details">
                    <strong>CloudFront / Fastly / Akamai</strong>
                    <ul>
                        <li><strong>Static Assets:</strong> Maps, textures, models</li>
                        <li><strong>Game Patches:</strong> Version updates (~5GB)</li>
                        <li><strong>Geo-distribution:</strong> 200+ edge locations</li>
                        <li><strong>Asset Streaming:</strong> Progressive download</li>
                        <li><strong>Compression:</strong> Brotli, gzip</li>
                    </ul>
                    <div class="code-snippet">
                        # Asset Download Stats
                        Average Map Size: 3.2 GB
                        Patch Frequency: Weekly
                        CDN Hit Rate: 98%</div>
                </div>
            </div>
        </div>

        <!-- Voice Communication -->
        <div class="section voice-section">
            <div class="section-title">üé§ VOICE COMMUNICATION</div>
            <div class="component">
                <div class="component-name">Voice Service (Agora/Vivox)</div>
                <div class="component-details">
                    <strong>Features:</strong>
                    <ul>
                        <li><strong>Proximity Chat:</strong> Spatial audio (3D)</li>
                        <li><strong>Team Chat:</strong> Squad channels</li>
                        <li><strong>Codec:</strong> Opus @ 32 kbps</li>
                        <li><strong>Latency:</strong> <100ms</li>
                        <li><strong>Noise Suppression:</strong> AI-powered</li>
                    </ul>
                    <strong>Technology:</strong>
                    <ul>
                        <li>WebRTC / Custom UDP</li>
                        <li>P2P or Relay Servers</li>
                        <li>Echo Cancellation</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Load Balancer -->
        <div class="section loadbalancer-section">
            <div class="section-title">‚öñÔ∏è GLOBAL LOAD BALANCING</div>
            <div class="component">
                <div class="component-name">GeoDNS + Anycast Routing</div>
                <div class="component-details">
                    <strong>AWS Route 53 / CloudFlare</strong>
                    <ul>
                        <li><strong>Geo-routing:</strong> Nearest data center</li>
                        <li><strong>Latency-based:</strong> Route to lowest RTT</li>
                        <li><strong>Health Checks:</strong> Every 10 seconds</li>
                        <li><strong>Failover:</strong> Automatic region failover</li>
                        <li><strong>DDoS Protection:</strong> AWS Shield, Cloudflare</li>
                    </ul>
                    <div class="code-snippet">
                        # Routing Policy
                        US-West:   Latency < 30ms  ‚Üí us-west-2
                        EU-West:   Latency < 30ms  ‚Üí eu-west-1
                        Asia-SE:   Latency < 30ms  ‚Üí ap-southeast-1</div>
                </div>
            </div>
            <div class="flow-indicator">‚Üì Route to Regional Services</div>
        </div>

        <!-- API Gateway -->
        <div class="section gateway-section">
            <div class="section-title">üö™ API GATEWAY</div>
            <div class="component">
                <div class="component-name">Kong / AWS API Gateway</div>
                <div class="component-details">
                    <strong>Responsibilities:</strong>
                    <ul>
                        <li><strong>Authentication:</strong> JWT tokens, OAuth2</li>
                        <li><strong>Rate Limiting:</strong> 100 req/sec per player</li>
                        <li><strong>Request Routing:</strong> Microservices mesh</li>
                        <li><strong>Protocol Translation:</strong> HTTP/WebSocket</li>
                        <li><strong>SSL/TLS Termination</strong></li>
                        <li><strong>API Versioning:</strong> v1, v2, v3</li>
                    </ul>
                    <div class="code-snippet">
                        # Rate Limits
                        Matchmaking: 10 req/min
                        Stats API: 100 req/min
                        Leaderboard: 20 req/min</div>
                </div>
            </div>
        </div>

        <!-- Matchmaking Service -->
        <div class="section matchmaking-section">
            <div class="section-title">üéØ MATCHMAKING</div>
            <div class="component">
                <div class="component-name">Matchmaking Service</div>
                <div class="component-details">
                    <strong>Go / Rust Microservice</strong>
                    <ul>
                        <li><strong>Skill-based Matching:</strong> ELO/MMR algorithm</li>
                        <li><strong>Region Filtering:</strong> <30ms latency</li>
                        <li><strong>Party Support:</strong> 1-4 player squads</li>
                        <li><strong>Queue Management:</strong> Redis-backed</li>
                        <li><strong>Backfill Logic:</strong> Fill incomplete lobbies</li>
                    </ul>
                    <div class="code-snippet">
                        # Matching Algorithm
                        1. Region: us-west (hard constraint)
                        2. Skill: MMR 1500 ¬± 200 (soft)
                        3. Wait Time: Max 180s
                        4. Expand tolerance: +50 MMR/30s</div>
                </div>
            </div>
        </div>

        <!-- Authentication -->
        <div class="section auth-section">
            <div class="section-title">üîê AUTHENTICATION</div>
            <div class="component">
                <div class="component-name">Auth Service</div>
                <div class="component-details">
                    <strong>Java / Spring Security</strong>
                    <ul>
                        <li><strong>SSO:</strong> Steam, Epic, Google, Facebook</li>
                        <li><strong>Token Management:</strong> JWT (15 min TTL)</li>
                        <li><strong>Refresh Tokens:</strong> 7-day rotation</li>
                        <li><strong>2FA:</strong> Optional authenticator</li>
                        <li><strong>Session Management:</strong> Redis cache</li>
                    </ul>
                    <div class="code-snippet">
                        # Token Payload
                        {
                          "player_id": "uuid",
                          "username": "ProGamer123",
                          "region": "us-west",
                          "exp": 1700000000
                        }</div>
                </div>
            </div>
        </div>

        <!-- Lobby Service -->
        <div class="section lobby-section">
            <div class="section-title">üèõÔ∏è LOBBY SERVICE</div>
            <div class="component">
                <div class="component-name">Pre-Game Lobby</div>
                <div class="component-details">
                    <strong>Node.js / WebSocket</strong>
                    <ul>
                        <li><strong>Party Formation:</strong> Invite friends</li>
                        <li><strong>Loadout Selection:</strong> Skins, emotes</li>
                        <li><strong>Ready Check:</strong> All players ready</li>
                        <li><strong>Chat System:</strong> Text & emotes</li>
                        <li><strong>Countdown Timer:</strong> 60s pre-match</li>
                    </ul>
                    <div class="code-snippet">
                        # Lobby State
                        lobby_id: "abc123"
                        players: 100/100
                        status: "countdown" (45s)
                        server_allocated: true</div>
                </div>
            </div>
        </div>

        <!-- Game Session Manager -->
        <div class="section gsm-section">
            <div class="section-title">üéõÔ∏è GAME SESSION MANAGER (GSM)</div>
            <div class="component">
                <div class="component-name">Kubernetes + Agones (Game Server Orchestration)</div>
                <div class="component-details">
                    <strong>Core Responsibilities:</strong>
                    <ul>
                        <li><strong>Server Allocation:</strong> Spin up dedicated game servers on-demand</li>
                        <li><strong>Fleet Management:</strong> Maintain warm pool of 500 standby servers per region</li>
                        <li><strong>Auto-scaling:</strong> Scale 100-5000 servers based on player demand</li>
                        <li><strong>Health Monitoring:</strong> Track CPU, memory, network, tick rate</li>
                        <li><strong>Graceful Shutdown:</strong> Finish matches before terminating servers</li>
                        <li><strong>Cost Optimization:</strong> Use Spot Instances (70% cost savings)</li>
                    </ul>
                    <div class="code-snippet">
                        # Agones GameServer Manifest
                        apiVersion: agones.dev/v1
                        kind: GameServer
                        metadata:
                          name: battle-royale-server-1234
                        spec:
                          ports:
                          - name: game
                            containerPort: 7777
                            protocol: UDP
                          health:
                            initialDelaySeconds: 30
                            periodSeconds: 10
                          template:
                            spec:
                              containers:
                              - name: game-server
                                image: battleroyale/server:v1.2.3
                                resources:
                                  requests:
                                    memory: "8Gi"
                                    cpu: "4000m"
                                  limits:
                                    memory: "12Gi"
                                    cpu: "6000m"</div>
                    <strong>Scaling Strategy:</strong>
                    <ul>
                        <li>Min: 100 servers (standby)</li>
                        <li>Max: 5000 servers</li>
                        <li>Scale-up trigger: Queue wait time >60s</li>
                        <li>Scale-down trigger: <50% server utilization for 10 min</li>
                    </ul>
                </div>
            </div>
            <div class="flow-indicator">‚Üì Allocates & Manages Game Servers</div>
        </div>

        <!-- Game Server Fleet -->
        <div class="section gameserver-section">
            <div class="section-title">üñ•Ô∏è DEDICATED GAME SERVERS</div>
            <div class="component">
                <div class="component-name">Authoritative Game Server (C++ / Go)</div>
                <div class="component-details">
                    <strong>Architecture:</strong>
                    <ul>
                        <li><strong>Tick Rate:</strong> 60 Hz (16.6ms per tick)</li>
                        <li><strong>Physics Engine:</strong> Custom or PhysX</li>
                        <li><strong>State Synchronization:</strong> Delta compression</li>
                        <li><strong>Hit Detection:</strong> Server-side with lag compensation</li>
                        <li><strong>Network Protocol:</strong> Custom UDP (RakNet/ENet)</li>
                    </ul>
                    <div class="code-snippet">
                        # Game Loop (60 Hz)
                        while match_active:
                          1. Process player inputs
                          2. Simulate physics
                          3. Process combat
                          4. Update storm/safe zone
                          5. Broadcast state (delta)
                          6. Sleep (16.6ms - elapsed)

                        # State Update Packet
                        Tick: 3600
                        Players: [
                          {id: p1, pos: [102,50,200], hp: 95},
                          {id: p2, pos: [150,52,180], hp: 100}
                        ]
                        Events: [
                          {type: "player_hit", victim: p1, dmg: 5}
                        ]</div>
                    <strong>Optimizations:</strong>
                    <ul>
                        <li><strong>Interest Management:</strong> Only send nearby entities (500m radius)</li>
                        <li><strong>Priority System:</strong> Closer players get more updates</li>
                        <li><strong>Bit Packing:</strong> Compress position to 16-bit ints</li>
                        <li><strong>Delta Compression:</strong> Only send changed fields</li>
                    </ul>
                </div>
            </div>

            <div class="component">
                <div class="component-name">Storm/Safe Zone System</div>
                <div class="component-details">
                    <strong>Mechanics:</strong>
                    <ul>
                        <li>Phase 1: 2000m radius ‚Üí 1000m (120s shrink, 1 dmg/tick)</li>
                        <li>Phase 2: 1000m ‚Üí 500m (90s, 2 dmg/tick)</li>
                        <li>Phase 3: 500m ‚Üí 250m (60s, 5 dmg/tick)</li>
                        <li>Phase 4: 250m ‚Üí 100m (45s, 10 dmg/tick)</li>
                        <li>Phase 5: 100m ‚Üí 50m (30s, 20 dmg/tick)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Anti-Cheat -->
        <div class="section anticheat-section">
            <div class="section-title">üõ°Ô∏è ANTI-CHEAT SYSTEM</div>
            <div class="component">
                <div class="component-name">Multi-layer Anti-Cheat</div>
                <div class="component-details">
                    <strong>Client-side:</strong>
                    <ul>
                        <li><strong>Easy Anti-Cheat / BattleEye</strong> integration</li>
                        <li>Memory integrity checks</li>
                        <li>Process scanning</li>
                        <li>Driver-level protection</li>
                    </ul>
                    <strong>Server-side Validation:</strong>
                    <ul>
                        <li><strong>Movement Validation:</strong> Max speed checks</li>
                        <li><strong>Hit Validation:</strong> Line-of-sight, recoil analysis</li>
                        <li><strong>Behavioral Analysis:</strong> Headshot %, reaction time</li>
                        <li><strong>Impossible Actions:</strong> Shoot through walls</li>
                    </ul>
                    <div class="code-snippet">
                        # Detection Rules
                        IF headshot_percentage > 70%:
                          flag_suspicious()

                        IF avg_reaction_time < 100ms:
                          flag_aimbot()

                        IF movement_speed > max_speed * 1.1:
                          kick_player() # Speed hack</div>
                    <strong>Actions:</strong>
                    <ul>
                        <li>Instant Kick: Blatant hacks</li>
                        <li>Shadow Ban: Match with other cheaters</li>
                        <li>Manual Review: Borderline cases</li>
                        <li>Hardware Ban: Repeat offenders</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Player Database -->
        <div class="section database-section">
            <div class="section-title">üóÑÔ∏è PLAYER DATABASE</div>
            <div class="component">
                <div class="component-name">DynamoDB (NoSQL)</div>
                <div class="component-details">
                    <strong>Global Tables (Multi-region)</strong>
                    <div class="code-snippet">
                        # Player Profile
                        player_id: "uuid"
                        username: "ProGamer123"
                        region: "us-west"
                        mmr: 1850
                        rank: "platinum"
                        total_matches: 2341
                        wins: 234
                        k_d_ratio: 1.52
                        account_status: "active"</div>
                    <strong>Features:</strong>
                    <ul>
                        <li>Automatic global replication</li>
                        <li>Single-digit ms latency</li>
                        <li>Auto-scaling capacity</li>
                        <li>Point-in-time recovery</li>
                    </ul>
                </div>
            </div>

            <div class="component">
                <div class="component-name">Redis Cluster (Cache)</div>
                <div class="component-details">
                    <strong>Use Cases:</strong>
                    <ul>
                        <li><strong>Leaderboards:</strong> Sorted Sets</li>
                        <li><strong>Session Management:</strong> Active players</li>
                        <li><strong>Matchmaking Queues:</strong> Lists</li>
                        <li><strong>Server Allocation:</strong> Available servers</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Analytics -->
        <div class="section analytics-section">
            <div class="section-title">üìä ANALYTICS & TELEMETRY</div>
            <div class="component">
                <div class="component-name">ClickHouse / Cassandra</div>
                <div class="component-details">
                    <strong>Time-Series Data:</strong>
                    <ul>
                        <li><strong>Match Events:</strong> Kills, deaths, damage</li>
                        <li><strong>Player Actions:</strong> Weapon usage, movement</li>
                        <li><strong>Performance Metrics:</strong> FPS, latency, packet loss</li>
                        <li><strong>Economy:</strong> Item pickups, loot distribution</li>
                    </ul>
                    <div class="code-snippet">
                        # Event Schema
                        {
                          "match_id": "xyz",
                          "timestamp": 1700000000,
                          "event_type": "player_killed",
                          "killer": "p1",
                          "victim": "p2",
                          "weapon": "assault_rifle",
                          "distance": 85.3,
                          "headshot": true
                        }</div>
                    <strong>Aggregations:</strong>
                    <ul>
                        <li>Top weapons by kill rate</li>
                        <li>Hot drop locations</li>
                        <li>Win rate by landing spot</li>
                        <li>Average survival time</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Replay Storage -->
        <div class="section storage-section">
            <div class="section-title">üíæ REPLAY & STORAGE</div>
            <div class="component">
                <div class="component-name">Amazon S3 + Glacier</div>
                <div class="component-details">
                    <strong>Replay System:</strong>
                    <ul>
                        <li><strong>Match Recording:</strong> Full state snapshots</li>
                        <li><strong>Compression:</strong> 10:1 ratio (2.9GB ‚Üí 290MB)</li>
                        <li><strong>Storage Tiers:</strong>
                            <ul>
                                <li>S3 Standard: Last 7 days</li>
                                <li>S3 Infrequent: 7-30 days</li>
                                <li>Glacier: 30+ days</li>
                            </ul>
                        </li>
                        <li><strong>Playback:</strong> Stream from S3</li>
                    </ul>
                    <div class="code-snippet">
                        # Replay Format
                        {
                          "match_id": "abc123",
                          "tick_rate": 60,
                          "total_ticks": 72000,
                          "events": [
                            {tick: 0, type: "match_start"},
                            {tick: 120, type: "player_landed"},
                            {tick: 3600, type: "player_killed"}
                          ]
                        }</div>
                    <strong>Access Patterns:</strong>
                    <ul>
                        <li>Recent matches: Instant access</li>
                        <li>Old matches: 3-5 hour retrieval (Glacier)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Key System Metrics -->
    <div class="key-metrics">
        <div class="section-title">üéØ KEY SYSTEM METRICS & PERFORMANCE</div>
        <div class="metrics-grid">
            <div class="metric-item">
                <div class="metric-value">10M</div>
                <div class="metric-label">Concurrent Players (Global)</div>
            </div>
            <div class="metric-item">
                <div class="metric-value">100K</div>
                <div class="metric-label">Active Matches Simultaneously</div>
            </div>
            <div class="metric-item">
                <div class="metric-value">60 Hz</div>
                <div class="metric-label">Server Tick Rate</div>
            </div>
            <div class="metric-item">
                <div class="metric-value">&lt;50ms</div>
                <div class="metric-label">Server Processing Latency</div>
            </div>
            <div class="metric-item">
                <div class="metric-value">&lt;100ms</div>
                <div class="metric-label">Player RTT (P95)</div>
            </div>
            <div class="metric-item">
                <div class="metric-value">600M</div>
                <div class="metric-label">State Updates per Second</div>
            </div>
            <div class="metric-item">
                <div class="metric-value">20 min</div>
                <div class="metric-label">Average Match Duration</div>
            </div>
            <div class="metric-item">
                <div class="metric-value">99.95%</div>
                <div class="metric-label">System Availability</div>
            </div>
        </div>
    </div>

    <!-- Additional System Details -->
    <div style="margin-top: 40px; padding: 30px; background: #f8fafc; border-radius: 15px; border: 2px solid #e2e8f0;">
        <h2 style="color: #2d3748; margin-bottom: 20px;">üîß TECHNICAL DEEP DIVES</h2>

        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 25px;">
            <div>
                <h3 style="color: #7c3aed; margin-bottom: 10px;">Network Optimization</h3>
                <ul style="line-height: 2; color: #4a5568;">
                    <li><strong>Protocol:</strong> Custom UDP with reliability layer</li>
                    <li><strong>Interest Management:</strong> Only sync nearby entities (500m)</li>
                    <li><strong>Delta Compression:</strong> Send only changed state</li>
                    <li><strong>Bit Packing:</strong> Position: float32 ‚Üí int16 (50% savings)</li>
                    <li><strong>Priority System:</strong> Closer players get more updates</li>
                    <li><strong>Bandwidth per Player:</strong> ~100 Kbps average</li>
                </ul>
            </div>

            <div>
                <h3 style="color: #7c3aed; margin-bottom: 10px;">Client-Side Prediction</h3>
                <ul style="line-height: 2; color: #4a5568;">
                    <li><strong>Input Prediction:</strong> Apply inputs locally before server confirms</li>
                    <li><strong>Reconciliation:</strong> Correct prediction errors from server state</li>
                    <li><strong>Input Replay:</strong> Replay inputs after correction</li>
                    <li><strong>Interpolation:</strong> Smooth movement between server updates</li>
                    <li><strong>Extrapolation:</strong> Predict other players' movement</li>
                    <li><strong>Dead Reckoning:</strong> Continue last known trajectory</li>
                </ul>
            </div>

            <div>
                <h3 style="color: #7c3aed; margin-bottom: 10px;">Lag Compensation</h3>
                <ul style="line-height: 2; color: #4a5568;">
                    <li><strong>State History:</strong> Store last 2 seconds (120 ticks @ 60Hz)</li>
                    <li><strong>Time Rewind:</strong> Rewind to shooter's perspective</li>
                    <li><strong>Hit Validation:</strong> Check hit at compensated time</li>
                    <li><strong>Favor Shooter:</strong> If hit on client, likely valid</li>
                    <li><strong>Max Compensation:</strong> Cap at 200ms to prevent abuse</li>
                </ul>
            </div>

            <div>
                <h3 style="color: #7c3aed; margin-bottom: 10px;">Scalability & Cost</h3>
                <ul style="line-height: 2; color: #4a5568;">
                    <li><strong>Server Cost:</strong> $0.15/hour √ó 1500 = $162K/month</li>
                    <li><strong>Spot Instances:</strong> 70% savings vs on-demand</li>
                    <li><strong>Auto-scaling:</strong> 100-5000 servers per region</li>
                    <li><strong>Warm Pool:</strong> 500 standby servers (30s match start)</li>
                    <li><strong>Regional Deployment:</strong> 3 regions initially</li>
                    <li><strong>Total Infrastructure:</strong> ~$600K/month @ 10M players</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Regional Architecture -->
    <div style="margin-top: 30px; padding: 30px; background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%); border-radius: 15px;">
        <h2 style="color: #4338ca; margin-bottom: 20px;">üåç GLOBAL REGIONAL ARCHITECTURE</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
            <div style="background: white; padding: 20px; border-radius: 10px; border-left: 5px solid #7c3aed;">
                <h4 style="color: #7c3aed; margin-bottom: 10px;">üá∫üá∏ US-West Region</h4>
                <p style="color: #4a5568; line-height: 1.8;">
                    <strong>Data Center:</strong> Oregon (us-west-2)<br>
                    <strong>Concurrent Players:</strong> 3.2M<br>
                    <strong>Active Matches:</strong> 32,000<br>
                    <strong>Game Servers:</strong> 1,500<br>
                    <strong>Avg Latency:</strong> 25ms<br>
                    <strong>Peak Hours:</strong> 6pm-11pm PST
                </p>
            </div>

            <div style="background: white; padding: 20px; border-radius: 10px; border-left: 5px solid #10b981;">
                <h4 style="color: #10b981; margin-bottom: 10px;">üá™üá∫ EU-West Region</h4>
                <p style="color: #4a5568; line-height: 1.8;">
                    <strong>Data Center:</strong> Ireland (eu-west-1)<br>
                    <strong>Concurrent Players:</strong> 4.1M<br>
                    <strong>Active Matches:</strong> 41,000<br>
                    <strong>Game Servers:</strong> 2,000<br>
                    <strong>Avg Latency:</strong> 22ms<br>
                    <strong>Peak Hours:</strong> 7pm-12am CET
                </p>
            </div>

            <div style="background: white; padding: 20px; border-radius: 10px; border-left: 5px solid #f59e0b;">
                <h4 style="color: #f59e0b; margin-bottom: 10px;">üåè Asia-SE Region</h4>
                <p style="color: #4a5568; line-height: 1.8;">
                    <strong>Data Center:</strong> Singapore (ap-southeast-1)<br>
                    <strong>Concurrent Players:</strong> 2.7M<br>
                    <strong>Active Matches:</strong> 27,000<br>
                    <strong>Game Servers:</strong> 1,300<br>
                    <strong>Avg Latency:</strong> 28ms<br>
                    <strong>Peak Hours:</strong> 8pm-1am SGT
                </p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 2px solid #e2e8f0; color: #718096;">
        <p style="font-size: 0.9em;">üéÆ <strong>Real-time Multiplayer at Scale:</strong> Combining authoritative server architecture, client-side prediction, and lag compensation for seamless 100-player battles</p>
        <p style="font-size: 0.9em; margin-top: 10px;">Built with: C++/Go Servers ‚Ä¢ Unity/Unreal Engine ‚Ä¢ Kubernetes/Agones ‚Ä¢ DynamoDB ‚Ä¢ Redis ‚Ä¢ ClickHouse ‚Ä¢ S3</p>
    </div>
</div>
</body>
</html>
