<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logging & Metrics Architecture Flow Diagram</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }

        .header h1 {
            font-size: 2.5em;
            color: #2d3748;
            margin-bottom: 10px;
        }

        .tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .tab {
            padding: 12px 30px;
            background: #e2e8f0;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s;
        }

        .tab.active {
            background: #6366f1;
            color: white;
        }

        .tab:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .diagram-container {
            display: none;
            margin-top: 30px;
        }

        .diagram-container.active {
            display: block;
        }

        svg {
            width: 100%;
            height: auto;
        }

        .component {
            cursor: pointer;
            transition: all 0.3s;
        }

        .component:hover {
            filter: drop-shadow(0 0 10px rgba(99, 102, 241, 0.5));
        }

        .flow-arrow {
            animation: dash 20s linear infinite;
        }

        @keyframes dash {
            to {
                stroke-dashoffset: -1000;
            }
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 30px;
            padding: 20px;
            background: #f8fafc;
            border-radius: 10px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .legend-color {
            width: 30px;
            height: 30px;
            border-radius: 5px;
            border: 2px solid #cbd5e0;
        }

        .metrics-panel {
            margin-top: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #fef3c7 0%, #fde047 100%);
            border-radius: 15px;
            border: 2px solid #fbbf24;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .metric-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border-left: 4px solid #6366f1;
        }

        .metric-value {
            font-size: 1.8em;
            font-weight: 700;
            color: #6366f1;
        }

        .metric-label {
            font-size: 0.9em;
            color: #4a5568;
            margin-top: 5px;
        }

        .flow-description {
            background: #e0e7ff;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 5px solid #6366f1;
        }

        .flow-description h3 {
            color: #4338ca;
            margin-bottom: 10px;
        }

        .flow-description ol {
            margin-left: 20px;
            line-height: 2;
            color: #1e293b;
        }

        .flow-description ol li {
            margin: 8px 0;
        }

        .flow-description strong {
            color: #6366f1;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>üìä Logging & Metrics Flow Diagram</h1>
        <p style="color: #64748b; margin-top: 10px;">Interactive Data Pipeline Visualization</p>

        <div class="tabs">
            <button class="tab active" onclick="showDiagram('log')">üìù Log Ingestion Flow</button>
            <button class="tab" onclick="showDiagram('metrics')">üìà Metrics Collection Flow</button>
            <button class="tab" onclick="showDiagram('full')">üèóÔ∏è Full System Architecture</button>
        </div>
    </div>

    <!-- Log Ingestion Flow -->
    <div id="log-diagram" class="diagram-container active">
        <svg viewBox="0 0 1400 1300" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                    <polygon points="0 0, 10 3, 0 6" fill="#6366f1" />
                </marker>
                <linearGradient id="grad-app" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#60a5fa;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="grad-agent" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#84cc16;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#65a30d;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="grad-collector" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#22d3ee;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#06b6d4;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="grad-kafka" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#ef4444;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#dc2626;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="grad-processor" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#818cf8;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#6366f1;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="grad-es" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#fb923c;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#f97316;stop-opacity:1" />
                </linearGradient>
                <linearGradient id="grad-viz" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:#2dd4bf;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#14b8a6;stop-opacity:1" />
                </linearGradient>
            </defs>

            <!-- Title -->
            <text x="700" y="30" font-size="24" font-weight="bold" text-anchor="middle" fill="#2d3748">
                Log Ingestion Pipeline
            </text>

            <!-- Applications -->
            <g class="component">
                <rect x="200" y="70" width="180" height="80" rx="10" fill="url(#grad-app)" stroke="#2563eb" stroke-width="2"/>
                <text x="290" y="105" font-size="14" font-weight="bold" text-anchor="middle" fill="white">üñ•Ô∏è Application 1</text>
                <text x="290" y="125" font-size="11" text-anchor="middle" fill="white">user-api</text>
            </g>

            <g class="component">
                <rect x="410" y="70" width="180" height="80" rx="10" fill="url(#grad-app)" stroke="#2563eb" stroke-width="2"/>
                <text x="500" y="105" font-size="14" font-weight="bold" text-anchor="middle" fill="white">üñ•Ô∏è Application 2</text>
                <text x="500" y="125" font-size="11" text-anchor="middle" fill="white">payment-api</text>
            </g>

            <g class="component">
                <rect x="620" y="70" width="180" height="80" rx="10" fill="url(#grad-app)" stroke="#2563eb" stroke-width="2"/>
                <text x="710" y="105" font-size="14" font-weight="bold" text-anchor="middle" fill="white">üñ•Ô∏è Application 3</text>
                <text x="710" y="125" font-size="11" text-anchor="middle" fill="white">order-service</text>
            </g>

            <!-- Log Files -->
            <text x="200" y="185" font-size="10" fill="#4a5568" font-weight="600">üìÑ /var/log/app/*.log</text>
            <text x="410" y="185" font-size="10" fill="#4a5568" font-weight="600">üìÑ /var/log/app/*.log</text>
            <text x="620" y="185" font-size="10" fill="#4a5568" font-weight="600">üìÑ /var/log/app/*.log</text>

            <!-- Arrows to agents -->
            <path d="M 290 150 L 290 220" stroke="#6366f1" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="flow-arrow" stroke-dasharray="5,5"/>
            <path d="M 500 150 L 500 220" stroke="#6366f1" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="flow-arrow" stroke-dasharray="5,5"/>
            <path d="M 710 150 L 710 220" stroke="#6366f1" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="flow-arrow" stroke-dasharray="5,5"/>

            <!-- Log Agents -->
            <g class="component">
                <rect x="200" y="220" width="180" height="100" rx="10" fill="url(#grad-agent)" stroke="#4d7c0f" stroke-width="2"/>
                <text x="290" y="255" font-size="13" font-weight="bold" text-anchor="middle" fill="white">üì¶ Filebeat</text>
                <text x="290" y="275" font-size="10" text-anchor="middle" fill="white">‚Ä¢ Tail log files</text>
                <text x="290" y="290" font-size="10" text-anchor="middle" fill="white">‚Ä¢ Add metadata</text>
                <text x="290" y="305" font-size="10" text-anchor="middle" fill="white">‚Ä¢ Forward to collector</text>
            </g>

            <g class="component">
                <rect x="410" y="220" width="180" height="100" rx="10" fill="url(#grad-agent)" stroke="#4d7c0f" stroke-width="2"/>
                <text x="500" y="255" font-size="13" font-weight="bold" text-anchor="middle" fill="white">üì¶ Fluent Bit</text>
                <text x="500" y="275" font-size="10" text-anchor="middle" fill="white">‚Ä¢ Lightweight</text>
                <text x="500" y="290" font-size="10" text-anchor="middle" fill="white">‚Ä¢ Filter & parse</text>
                <text x="500" y="305" font-size="10" text-anchor="middle" fill="white">‚Ä¢ Low memory</text>
            </g>

            <g class="component">
                <rect x="620" y="220" width="180" height="100" rx="10" fill="url(#grad-agent)" stroke="#4d7c0f" stroke-width="2"/>
                <text x="710" y="255" font-size="13" font-weight="bold" text-anchor="middle" fill="white">üì¶ Vector</text>
                <text x="710" y="275" font-size="10" text-anchor="middle" fill="white">‚Ä¢ Rust-based</text>
                <text x="710" y="290" font-size="10" text-anchor="middle" fill="white">‚Ä¢ Transform logs</text>
                <text x="710" y="305" font-size="10" text-anchor="middle" fill="white">‚Ä¢ High performance</text>
            </g>

            <!-- Arrows to collector -->
            <path d="M 290 320 L 500 410" stroke="#6366f1" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="flow-arrow" stroke-dasharray="5,5"/>
            <path d="M 500 320 L 500 410" stroke="#6366f1" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="flow-arrow" stroke-dasharray="5,5"/>
            <path d="M 710 320 L 500 410" stroke="#6366f1" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="flow-arrow" stroke-dasharray="5,5"/>

            <text x="350" y="370" font-size="11" fill="#4338ca" font-weight="600">‚Üí Forward logs</text>

            <!-- Central Collector -->
            <g class="component">
                <rect x="350" y="410" width="300" height="120" rx="10" fill="url(#grad-collector)" stroke="#0891b2" stroke-width="2"/>
                <text x="500" y="445" font-size="16" font-weight="bold" text-anchor="middle" fill="white">üîÑ Fluentd / Logstash</text>
                <text x="500" y="465" font-size="12" text-anchor="middle" fill="white">Centralized Log Processing</text>
                <text x="500" y="490" font-size="11" text-anchor="middle" fill="white">‚Ä¢ Parse & structure logs</text>
                <text x="500" y="505" font-size="11" text-anchor="middle" fill="white">‚Ä¢ Enrich with metadata</text>
                <text x="500" y="520" font-size="11" text-anchor="middle" fill="white">‚Ä¢ Route to destinations</text>
            </g>

            <!-- Arrow to Kafka -->
            <path d="M 500 530 L 500 590" stroke="#6366f1" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="flow-arrow" stroke-dasharray="5,5"/>
            <text x="520" y="565" font-size="11" fill="#4338ca" font-weight="600">Publish events</text>

            <!-- Kafka -->
            <g class="component">
                <rect x="350" y="590" width="300" height="100" rx="10" fill="url(#grad-kafka)" stroke="#b91c1c" stroke-width="2"/>
                <text x="500" y="625" font-size="16" font-weight="bold" text-anchor="middle" fill="white">üì¨ Apache Kafka</text>
                <text x="500" y="650" font-size="12" text-anchor="middle" fill="white">Topics: logs.raw, logs.structured</text>
                <text x="500" y="670" font-size="11" text-anchor="middle" fill="white">Partitions: 30 | Replication: 3x</text>
            </g>

            <!-- Arrow to Stream Processor -->
            <path d="M 500 690 L 500 750" stroke="#6366f1" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="flow-arrow" stroke-dasharray="5,5"/>
            <text x="520" y="725" font-size="11" fill="#4338ca" font-weight="600">Consume</text>

            <!-- Stream Processor -->
            <g class="component">
                <rect x="300" y="750" width="400" height="120" rx="10" fill="url(#grad-processor)" stroke="#4f46e5" stroke-width="2"/>
                <text x="500" y="785" font-size="16" font-weight="bold" text-anchor="middle" fill="white">‚öôÔ∏è Stream Processor</text>
                <text x="500" y="805" font-size="12" text-anchor="middle" fill="white">Apache Flink / Spark Streaming</text>
                <text x="500" y="830" font-size="11" text-anchor="middle" fill="white">‚Ä¢ Parse structured fields (JSON, regex)</text>
                <text x="500" y="845" font-size="11" text-anchor="middle" fill="white">‚Ä¢ Filter noise (debug logs)</text>
                <text x="500" y="860" font-size="11" text-anchor="middle" fill="white">‚Ä¢ Enrich (geo, user lookup)</text>
            </g>

            <!-- Arrows to storage -->
            <path d="M 400 870 L 300 950" stroke="#6366f1" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="flow-arrow" stroke-dasharray="5,5"/>
            <path d="M 600 870 L 700 950" stroke="#6366f1" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="flow-arrow" stroke-dasharray="5,5"/>

            <!-- Elasticsearch -->
            <g class="component">
                <rect x="150" y="950" width="300" height="130" rx="10" fill="url(#grad-es)" stroke="#ea580c" stroke-width="2"/>
                <text x="300" y="985" font-size="16" font-weight="bold" text-anchor="middle" fill="white">üóÑÔ∏è Elasticsearch</text>
                <text x="300" y="1010" font-size="12" text-anchor="middle" fill="white">Time-based Indices</text>
                <text x="300" y="1030" font-size="11" text-anchor="middle" fill="white">‚Ä¢ logs-2025.11.15 (daily)</text>
                <text x="300" y="1045" font-size="11" text-anchor="middle" fill="white">‚Ä¢ Hot/Warm/Cold tiers</text>
                <text x="300" y="1060" font-size="11" text-anchor="middle" fill="white">‚Ä¢ 90 day retention</text>
            </g>

            <!-- S3 Archive -->
            <g class="component">
                <rect x="550" y="950" width="300" height="130" rx="10" fill="#bae6fd" stroke="#0284c7" stroke-width="2"/>
                <text x="700" y="985" font-size="16" font-weight="bold" text-anchor="middle" fill="#075985">‚òÅÔ∏è S3 / Archive</text>
                <text x="700" y="1010" font-size="12" text-anchor="middle" fill="#075985">Long-term Storage</text>
                <text x="700" y="1030" font-size="11" text-anchor="middle" fill="#075985">‚Ä¢ Compressed logs (gzip)</text>
                <text x="700" y="1045" font-size="11" text-anchor="middle" fill="#075985">‚Ä¢ S3 ‚Üí Glacier transition</text>
                <text x="700" y="1060" font-size="11" text-anchor="middle" fill="#075985">‚Ä¢ Compliance retention</text>
            </g>

            <!-- Arrows to visualization -->
            <path d="M 300 1080 L 500 1150" stroke="#6366f1" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="flow-arrow" stroke-dasharray="5,5"/>

            <!-- Kibana -->
            <g class="component">
                <rect x="350" y="1150" width="300" height="100" rx="10" fill="url(#grad-viz)" stroke="#0d9488" stroke-width="2"/>
                <text x="500" y="1185" font-size="16" font-weight="bold" text-anchor="middle" fill="white">üìä Kibana</text>
                <text x="500" y="1210" font-size="12" text-anchor="middle" fill="white">Search, Visualize, Dashboard</text>
                <text x="500" y="1230" font-size="11" text-anchor="middle" fill="white">‚Ä¢ Full-text search ‚Ä¢ Real-time logs</text>
            </g>

            <!-- Step numbers -->
            <circle cx="290" cy="110" r="18" fill="#fbbf24" stroke="#f59e0b" stroke-width="2"/>
            <text x="290" y="117" font-size="14" font-weight="bold" text-anchor="middle" fill="white">1</text>

            <circle cx="290" cy="270" r="18" fill="#fbbf24" stroke="#f59e0b" stroke-width="2"/>
            <text x="290" y="277" font-size="14" font-weight="bold" text-anchor="middle" fill="white">2</text>

            <circle cx="500" cy="470" r="18" fill="#fbbf24" stroke="#f59e0b" stroke-width="2"/>
            <text x="500" y="477" font-size="14" font-weight="bold" text-anchor="middle" fill="white">3</text>

            <circle cx="500" cy="640" r="18" fill="#fbbf24" stroke="#f59e0b" stroke-width="2"/>
            <text x="500" y="647" font-size="14" font-weight="bold" text-anchor="middle" fill="white">4</text>

            <circle cx="500" cy="810" r="18" fill="#fbbf24" stroke="#f59e0b" stroke-width="2"/>
            <text x="500" y="817" font-size="14" font-weight="bold" text-anchor="middle" fill="white">5</text>

            <circle cx="300" cy="1015" r="18" fill="#fbbf24" stroke="#f59e0b" stroke-width="2"/>
            <text x="300" y="1022" font-size="14" font-weight="bold" text-anchor="middle" fill="white">6</text>

            <circle cx="500" cy="1200" r="18" fill="#fbbf24" stroke="#f59e0b" stroke-width="2"/>
            <text x="500" y="1207" font-size="14" font-weight="bold" text-anchor="middle" fill="white">7</text>
        </svg>

        <div class="flow-description">
            <h3>üìù Log Ingestion Flow Steps</h3>
            <ol>
                <li><strong>Application Logging:</strong> Applications write structured logs to files (JSON format recommended)</li>
                <li><strong>Log Shipping:</strong> Lightweight agents (Filebeat, Fluent Bit, Vector) tail log files and forward to central collector
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Add metadata: hostname, service name, environment</li>
                        <li>Buffer logs locally during network issues</li>
                        <li>Low CPU/memory footprint (~50MB per agent)</li>
                    </ul>
                </li>
                <li><strong>Central Collection:</strong> Fluentd/Logstash receives logs, performs parsing and enrichment
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Parse formats: JSON, syslog, custom regex patterns</li>
                        <li>Enrich: Add GeoIP, user lookup, service metadata</li>
                        <li>Filter: Remove debug logs in production</li>
                    </ul>
                </li>
                <li><strong>Message Queue:</strong> Kafka provides durable, scalable buffering
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Decouples ingestion from processing</li>
                        <li>Handles 1M+ events/sec with partitioning</li>
                        <li>7-day retention for replay capability</li>
                    </ul>
                </li>
                <li><strong>Stream Processing:</strong> Flink/Spark consumes from Kafka, applies transformations
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Real-time aggregations (error counts, latency percentiles)</li>
                        <li>Anomaly detection (spike in error rates)</li>
                        <li>Schema validation and normalization</li>
                    </ul>
                </li>
                <li><strong>Storage:</strong> Dual-write to Elasticsearch (searchable) and S3 (archive)
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Elasticsearch: 90-day hot/warm/cold retention</li>
                        <li>S3: Long-term compliance storage (compressed, encrypted)</li>
                    </ul>
                </li>
                <li><strong>Visualization:</strong> Kibana provides search, dashboards, and real-time log tailing</li>
            </ol>
        </div>
    </div>

    <!-- Metrics Collection Flow -->
    <div id="metrics-diagram" class="diagram-container">
        <svg viewBox="0 0 1400 1200" xmlns="http://www.w3.org/2000/svg">
            <!-- Title -->
            <text x="700" y="30" font-size="24" font-weight="bold" text-anchor="middle" fill="#2d3748">
                Metrics Collection Pipeline
            </text>

            <!-- Services with exporters -->
            <g class="component">
                <rect x="150" y="70" width="200" height="100" rx="10" fill="url(#grad-app)" stroke="#2563eb" stroke-width="2"/>
                <text x="250" y="105" font-size="14" font-weight="bold" text-anchor="middle" fill="white">üñ•Ô∏è Service A</text>
                <text x="250" y="125" font-size="11" text-anchor="middle" fill="white">+ Prometheus Client</text>
                <text x="250" y="145" font-size="10" text-anchor="middle" fill="white">/metrics endpoint</text>
            </g>

            <g class="component">
                <rect x="400" y="70" width="200" height="100" rx="10" fill="url(#grad-app)" stroke="#2563eb" stroke-width="2"/>
                <text x="500" y="105" font-size="14" font-weight="bold" text-anchor="middle" fill="white">üñ•Ô∏è Service B</text>
                <text x="500" y="125" font-size="11" text-anchor="middle" fill="white">+ StatsD Client</text>
                <text x="500" y="145" font-size="10" text-anchor="middle" fill="white">Push to collector</text>
            </g>

            <g class="component">
                <rect x="650" y="70" width="200" height="100" rx="10" fill="url(#grad-app)" stroke="#2563eb" stroke-width="2"/>
                <text x="750" y="105" font-size="14" font-weight="bold" text-anchor="middle" fill="white">üñ•Ô∏è Infrastructure</text>
                <text x="750" y="125" font-size="11" text-anchor="middle" fill="white">Node Exporter</text>
                <text x="750" y="145" font-size="10" text-anchor="middle" fill="white">CPU, Mem, Disk</text>
            </g>

            <!-- Sample metrics output -->
            <rect x="150" y="190" width="700" height="80" rx="5" fill="#1e293b" stroke="#475569" stroke-width="2"/>
            <text x="160" y="210" font-size="11" fill="#22d3ee" font-family="monospace"># HELP http_requests_total Total HTTP requests</text>
            <text x="160" y="230" font-size="11" fill="#fbbf24" font-family="monospace">http_requests_total{method="GET",status="200"} 15247</text>
            <text x="160" y="250" font-size="11" fill="#fbbf24" font-family="monospace">http_request_duration_seconds{quantile="0.95"} 0.45</text>

            <!-- Arrows to Prometheus -->
            <path d="M 250 170 L 400 320" stroke="#10b981" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="flow-arrow" stroke-dasharray="5,5"/>
            <path d="M 500 170 L 500 320" stroke="#10b981" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="flow-arrow" stroke-dasharray="5,5"/>
            <path d="M 750 170 L 600 320" stroke="#10b981" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="flow-arrow" stroke-dasharray="5,5"/>

            <text x="290" y="250" font-size="11" fill="#059669" font-weight="600">‚Üê PULL (scrape)</text>
            <text x="520" y="250" font-size="11" fill="#059669" font-weight="600">PUSH ‚Üí</text>

            <!-- Prometheus Server -->
            <g class="component">
                <rect x="300" y="320" width="400" height="140" rx="10" fill="url(#grad-processor)" stroke="#4f46e5" stroke-width="2"/>
                <text x="500" y="355" font-size="16" font-weight="bold" text-anchor="middle" fill="white">üìä Prometheus Server</text>
                <text x="500" y="380" font-size="12" text-anchor="middle" fill="white">Time-Series Database</text>
                <text x="500" y="405" font-size="11" text-anchor="middle" fill="white">‚Ä¢ Scrape targets every 15s</text>
                <text x="500" y="425" font-size="11" text-anchor="middle" fill="white">‚Ä¢ Service discovery (K8s, Consul)</text>
                <text x="500" y="445" font-size="11" text-anchor="middle" fill="white">‚Ä¢ Local storage: 15 days retention</text>
            </g>

            <!-- Arrow to Thanos -->
            <path d="M 500 460 L 500 520" stroke="#6366f1" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="flow-arrow" stroke-dasharray="5,5"/>
            <text x="520" y="495" font-size="11" fill="#4338ca" font-weight="600">Upload blocks</text>

            <!-- Thanos / Long-term storage -->
            <g class="component">
                <rect x="250" y="520" width="500" height="140" rx="10" fill="#fed7aa" stroke="#ea580c" stroke-width="2"/>
                <text x="500" y="555" font-size="16" font-weight="bold" text-anchor="middle" fill="#9a3412">‚òÅÔ∏è Thanos / Cortex</text>
                <text x="500" y="575" font-size="12" text-anchor="middle" fill="#9a3412">Long-term Metrics Storage</text>
                <text x="500" y="600" font-size="11" text-anchor="middle" fill="#9a3412">‚Ä¢ Store metrics in S3/GCS (unlimited retention)</text>
                <text x="500" y="620" font-size="11" text-anchor="middle" fill="#9a3412">‚Ä¢ Downsampling: 5min avg ‚Üí 1hr avg ‚Üí 1day avg</text>
                <text x="500" y="640" font-size="11" text-anchor="middle" fill="#9a3412">‚Ä¢ Global query view across clusters</text>
            </g>

            <!-- Parallel path: Aggregation -->
            <path d="M 700 390 L 900 520" stroke="#c084fc" stroke-width="3" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>
            <text x="770" y="460" font-size="11" fill="#9333ea" font-weight="600">Recording Rules</text>

            <g class="component">
                <rect x="800" y="520" width="250" height="100" rx="10" fill="#e9d5ff" stroke="#a855f7" stroke-width="2"/>
                <text x="925" y="555" font-size="14" font-weight="bold" text-anchor="middle" fill="#6b21a8">‚ö° Pre-Aggregation</text>
                <text x="925" y="580" font-size="11" text-anchor="middle" fill="#6b21a8">Recording rules for dashboards</text>
                <text x="925" y="600" font-size="10" text-anchor="middle" fill="#6b21a8">e.g., instance:cpu:rate5m</text>
            </g>

            <!-- Arrows to query layer -->
            <path d="M 400 660 L 400 720" stroke="#6366f1" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="flow-arrow" stroke-dasharray="5,5"/>
            <path d="M 600 660 L 600 720" stroke="#6366f1" stroke-width="3" fill="none" marker-end="url(#arrowhead)" class="flow-arrow" stroke-dasharray="5,5"/>

            <!-- Grafana -->
            <g class="component">
                <rect x="300" y="720" width="400" height="120" rx="10" fill="url(#grad-viz)" stroke="#0d9488" stroke-width="2"/>
                <text x="500" y="755" font-size="16" font-weight="bold" text-anchor="middle" fill="white">üìà Grafana</text>
                <text x="500" y="780" font-size="12" text-anchor="middle" fill="white">Visualization & Alerting</text>
                <text x="500" y="805" font-size="11" text-anchor="middle" fill="white">‚Ä¢ PromQL queries for dashboards</text>
                <text x="500" y="825" font-size="11" text-anchor="middle" fill="white">‚Ä¢ Alert rules with thresholds</text>
            </g>

            <!-- Alertmanager -->
            <g class="component">
                <rect x="800" y="720" width="250" height="120" rx="10" fill="#fecaca" stroke="#f87171" stroke-width="2"/>
                <text x="925" y="755" font-size="14" font-weight="bold" text-anchor="middle" fill="#991b1b">üö® Alertmanager</text>
                <text x="925" y="780" font-size="11" text-anchor="middle" fill="#991b1b">Alert Routing</text>
                <text x="925" y="800" font-size="10" text-anchor="middle" fill="#991b1b">‚Ä¢ Group & deduplicate</text>
                <text x="925" y="815" font-size="10" text-anchor="middle" fill="#991b1b">‚Ä¢ Route to PagerDuty/Slack</text>
            </g>

            <path d="M 700 780 L 800 780" stroke="#ef4444" stroke-width="3" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>

            <!-- Notification destinations -->
            <g class="component">
                <rect x="300" y="900" width="150" height="70" rx="10" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
                <text x="375" y="930" font-size="13" font-weight="bold" text-anchor="middle" fill="#1e40af">üí¨ Slack</text>
                <text x="375" y="950" font-size="10" text-anchor="middle" fill="#1e40af">#alerts channel</text>
            </g>

            <g class="component">
                <rect x="500" y="900" width="150" height="70" rx="10" fill="#fee2e2" stroke="#ef4444" stroke-width="2"/>
                <text x="575" y="930" font-size="13" font-weight="bold" text-anchor="middle" fill="#991b1b">üìü PagerDuty</text>
                <text x="575" y="950" font-size="10" text-anchor="middle" fill="#991b1b">On-call rotation</text>
            </g>

            <g class="component">
                <rect x="700" y="900" width="150" height="70" rx="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
                <text x="775" y="930" font-size="13" font-weight="bold" text-anchor="middle" fill="#92400e">üìß Email</text>
                <text x="775" y="950" font-size="10" text-anchor="middle" fill="#92400e">Team distribution</text>
            </g>

            <path d="M 500 840 L 375 900" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="3,3"/>
            <path d="M 500 840 L 575 900" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="3,3"/>
            <path d="M 700 840 L 775 900" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="3,3"/>

            <!-- Sample PromQL -->
            <rect x="200" y="1020" width="800" height="120" rx="5" fill="#1e293b" stroke="#475569" stroke-width="2"/>
            <text x="210" y="1040" font-size="12" fill="#22d3ee" font-family="monospace"># Sample PromQL Queries</text>
            <text x="210" y="1060" font-size="11" fill="#fbbf24" font-family="monospace">rate(http_requests_total[5m])  # Requests per second</text>
            <text x="210" y="1080" font-size="11" fill="#fbbf24" font-family="monospace">histogram_quantile(0.95, http_duration_seconds)  # P95 latency</text>
            <text x="210" y="1100" font-size="11" fill="#fbbf24" font-family="monospace">sum by(service)(rate(errors_total[5m])) > 10  # Alert rule</text>
            <text x="210" y="1120" font-size="11" fill="#fbbf24" font-family="monospace">avg_over_time(cpu_usage[5m]) > 80  # CPU threshold</text>
        </svg>

        <div class="flow-description">
            <h3>üìà Metrics Collection Flow Steps</h3>
            <ol>
                <li><strong>Instrumentation:</strong> Applications expose metrics via client libraries
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Prometheus client: /metrics HTTP endpoint (pull model)</li>
                        <li>StatsD client: Push metrics to aggregator</li>
                        <li>Metric types: Counter, Gauge, Histogram, Summary</li>
                    </ul>
                </li>
                <li><strong>Collection (Prometheus):</strong> Prometheus scrapes targets at regular intervals
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Default scrape interval: 15 seconds</li>
                        <li>Service discovery: Auto-detect targets in Kubernetes</li>
                        <li>Stores time-series data locally with compression</li>
                    </ul>
                </li>
                <li><strong>Long-term Storage (Thanos/Cortex):</strong> Export metrics to object storage
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Unlimited retention in S3/GCS</li>
                        <li>Downsampling for cost efficiency (5min ‚Üí 1hr ‚Üí 1day)</li>
                        <li>Global query view across multiple Prometheus instances</li>
                    </ul>
                </li>
                <li><strong>Pre-Aggregation:</strong> Recording rules compute expensive queries ahead of time
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Example: instance:cpu:rate5m = rate(cpu[5m])</li>
                        <li>Speeds up dashboard queries</li>
                    </ul>
                </li>
                <li><strong>Visualization (Grafana):</strong> Query metrics with PromQL, display dashboards</li>
                <li><strong>Alerting:</strong> Alert rules trigger notifications
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Alertmanager groups, deduplicates, and routes alerts</li>
                        <li>Integrations: PagerDuty, Slack, Email, Webhooks</li>
                    </ul>
                </li>
            </ol>
        </div>
    </div>

    <!-- Full System Architecture -->
    <div id="full-diagram" class="diagram-container">
        <svg viewBox="0 0 1600 1100" xmlns="http://www.w3.org/2000/svg">
            <!-- Title -->
            <text x="800" y="35" font-size="28" font-weight="bold" text-anchor="middle" fill="#2d3748">
                Complete Logging & Metrics System
            </text>

            <!-- Layer labels -->
            <text x="50" y="100" font-size="14" font-weight="bold" fill="#64748b">DATA SOURCES</text>
            <text x="50" y="280" font-size="14" font-weight="bold" fill="#64748b">COLLECTION</text>
            <text x="50" y="460" font-size="14" font-weight="bold" fill="#64748b">STREAMING</text>
            <text x="50" y="640" font-size="14" font-weight="bold" fill="#64748b">PROCESSING</text>
            <text x="50" y="820" font-size="14" font-weight="bold" fill="#64748b">STORAGE</text>
            <text x="50" y="1000" font-size="14" font-weight="bold" fill="#64748b">VISUALIZATION</text>

            <!-- Horizontal dividers -->
            <line x1="200" y1="240" x2="1550" y2="240" stroke="#e2e8f0" stroke-width="2" stroke-dasharray="10,5"/>
            <line x1="200" y1="420" x2="1550" y2="420" stroke="#e2e8f0" stroke-width="2" stroke-dasharray="10,5"/>
            <line x1="200" y1="600" x2="1550" y2="600" stroke="#e2e8f0" stroke-width="2" stroke-dasharray="10,5"/>
            <line x1="200" y1="780" x2="1550" y2="780" stroke="#e2e8f0" stroke-width="2" stroke-dasharray="10,5"/>
            <line x1="200" y1="960" x2="1550" y2="960" stroke="#e2e8f0" stroke-width="2" stroke-dasharray="10,5"/>

            <!-- DATA SOURCES -->
            <g class="component">
                <rect x="250" y="80" width="200" height="100" rx="10" fill="url(#grad-app)" stroke="#2563eb" stroke-width="2"/>
                <text x="350" y="120" font-size="13" font-weight="bold" text-anchor="middle" fill="white">üñ•Ô∏è Applications</text>
                <text x="350" y="140" font-size="10" text-anchor="middle" fill="white">Microservices</text>
            </g>

            <g class="component">
                <rect x="500" y="80" width="200" height="100" rx="10" fill="url(#grad-app)" stroke="#2563eb" stroke-width="2"/>
                <text x="600" y="120" font-size="13" font-weight="bold" text-anchor="middle" fill="white">‚ò∏Ô∏è Kubernetes</text>
                <text x="600" y="140" font-size="10" text-anchor="middle" fill="white">Container Logs</text>
            </g>

            <g class="component">
                <rect x="750" y="80" width="200" height="100" rx="10" fill="url(#grad-app)" stroke="#2563eb" stroke-width="2"/>
                <text x="850" y="120" font-size="13" font-weight="bold" text-anchor="middle" fill="white">üåê Infrastructure</text>
                <text x="850" y="140" font-size="10" text-anchor="middle" fill="white">Servers, Network</text>
            </g>

            <g class="component">
                <rect x="1000" y="80" width="200" height="100" rx="10" fill="url(#grad-app)" stroke="#2563eb" stroke-width="2"/>
                <text x="1100" y="120" font-size="13" font-weight="bold" text-anchor="middle" fill="white">‚òÅÔ∏è Cloud Services</text>
                <text x="1100" y="140" font-size="10" text-anchor="middle" fill="white">AWS, GCP, Azure</text>
            </g>

            <!-- Arrows down -->
            <path d="M 350 180 L 350 280" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
            <path d="M 600 180 L 600 280" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
            <path d="M 850 180 L 850 280" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
            <path d="M 1100 180 L 1100 280" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

            <!-- COLLECTION LAYER -->
            <g class="component">
                <rect x="250" y="280" width="250" height="100" rx="10" fill="url(#grad-agent)" stroke="#4d7c0f" stroke-width="2"/>
                <text x="375" y="320" font-size="13" font-weight="bold" text-anchor="middle" fill="white">üì¶ Log Agents</text>
                <text x="375" y="340" font-size="10" text-anchor="middle" fill="white">Filebeat, Fluentd</text>
            </g>

            <g class="component">
                <rect x="550" y="280" width="250" height="100" rx="10" fill="url(#grad-agent)" stroke="#4d7c0f" stroke-width="2"/>
                <text x="675" y="320" font-size="13" font-weight="bold" text-anchor="middle" fill="white">üìä Metric Exporters</text>
                <text x="675" y="340" font-size="10" text-anchor="middle" fill="white">Prometheus, StatsD</text>
            </g>

            <g class="component">
                <rect x="850" y="280" width="250" height="100" rx="10" fill="url(#grad-collector)" stroke="#0891b2" stroke-width="2"/>
                <text x="975" y="320" font-size="13" font-weight="bold" text-anchor="middle" fill="white">üîÑ Collectors</text>
                <text x="975" y="340" font-size="10" text-anchor="middle" fill="white">Fluentd, Telegraf</text>
            </g>

            <!-- Arrows down -->
            <path d="M 375 380 L 500 460" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
            <path d="M 675 380 L 700 460" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
            <path d="M 975 380 L 900 460" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

            <!-- STREAMING LAYER -->
            <g class="component">
                <rect x="350" y="460" width="600" height="100" rx="10" fill="url(#grad-kafka)" stroke="#b91c1c" stroke-width="2"/>
                <text x="650" y="495" font-size="16" font-weight="bold" text-anchor="middle" fill="white">üì¨ Apache Kafka / Kinesis</text>
                <text x="650" y="520" font-size="12" text-anchor="middle" fill="white">Durable Message Streaming</text>
                <text x="650" y="540" font-size="10" text-anchor="middle" fill="white">Topics: logs, metrics, alerts | 1M+ events/sec</text>
            </g>

            <!-- Arrow down -->
            <path d="M 650 560 L 650 640" stroke="#6366f1" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>

            <!-- PROCESSING LAYER -->
            <g class="component">
                <rect x="300" y="640" width="300" height="100" rx="10" fill="url(#grad-processor)" stroke="#4f46e5" stroke-width="2"/>
                <text x="450" y="675" font-size="13" font-weight="bold" text-anchor="middle" fill="white">‚öôÔ∏è Stream Processing</text>
                <text x="450" y="695" font-size="10" text-anchor="middle" fill="white">Flink, Spark Streaming</text>
            </g>

            <g class="component">
                <rect x="650" y="640" width="300" height="100" rx="10" fill="#e9d5ff" stroke="#a855f7" stroke-width="2"/>
                <text x="800" y="675" font-size="13" font-weight="bold" text-anchor="middle" fill="#6b21a8">üîç Enrichment</text>
                <text x="800" y="695" font-size="10" text-anchor="middle" fill="#6b21a8">Parse, Filter, Aggregate</text>
            </g>

            <!-- Arrows down -->
            <path d="M 450 740 L 450 820" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
            <path d="M 800 740 L 800 820" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

            <!-- STORAGE LAYER -->
            <g class="component">
                <rect x="250" y="820" width="250" height="100" rx="10" fill="url(#grad-es)" stroke="#ea580c" stroke-width="2"/>
                <text x="375" y="855" font-size="13" font-weight="bold" text-anchor="middle" fill="white">üóÑÔ∏è Elasticsearch</text>
                <text x="375" y="875" font-size="10" text-anchor="middle" fill="white">Log Search</text>
            </g>

            <g class="component">
                <rect x="550" y="820" width="250" height="100" rx="10" fill="#fed7aa" stroke="#ea580c" stroke-width="2"/>
                <text x="675" y="855" font-size="13" font-weight="bold" text-anchor="middle" fill="#9a3412">üìä Prometheus</text>
                <text x="675" y="875" font-size="10" text-anchor="middle" fill="#9a3412">Metrics TSDB</text>
            </g>

            <g class="component">
                <rect x="850" y="820" width="250" height="100" rx="10" fill="#bae6fd" stroke="#0284c7" stroke-width="2"/>
                <text x="975" y="855" font-size="13" font-weight="bold" text-anchor="middle" fill="#075985">‚òÅÔ∏è S3 / Archive</text>
                <text x="975" y="875" font-size="10" text-anchor="middle" fill="#075985">Long-term Storage</text>
            </g>

            <!-- Arrows down -->
            <path d="M 375 920 L 500 1000" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
            <path d="M 675 920 L 700 1000" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>

            <!-- VISUALIZATION LAYER -->
            <g class="component">
                <rect x="350" y="1000" width="250" height="80" rx="10" fill="url(#grad-viz)" stroke="#0d9488" stroke-width="2"/>
                <text x="475" y="1035" font-size="14" font-weight="bold" text-anchor="middle" fill="white">üìä Kibana</text>
                <text x="475" y="1055" font-size="10" text-anchor="middle" fill="white">Log Dashboards</text>
            </g>

            <g class="component">
                <rect x="650" y="1000" width="250" height="80" rx="10" fill="url(#grad-viz)" stroke="#0d9488" stroke-width="2"/>
                <text x="775" y="1035" font-size="14" font-weight="bold" text-anchor="middle" fill="white">üìà Grafana</text>
                <text x="775" y="1055" font-size="10" text-anchor="middle" fill="white">Metric Dashboards</text>
            </g>

            <!-- Alerting (side panel) -->
            <g class="component">
                <rect x="1200" y="640" width="280" height="120" rx="10" fill="#fecaca" stroke="#f87171" stroke-width="2"/>
                <text x="1340" y="675" font-size="14" font-weight="bold" text-anchor="middle" fill="#991b1b">üö® ALERTING</text>
                <text x="1340" y="700" font-size="11" text-anchor="middle" fill="#991b1b">‚Ä¢ Alertmanager</text>
                <text x="1340" y="720" font-size="11" text-anchor="middle" fill="#991b1b">‚Ä¢ PagerDuty</text>
                <text x="1340" y="740" font-size="11" text-anchor="middle" fill="#991b1b">‚Ä¢ Slack / Email</text>
            </g>

            <path d="M 950 690 L 1200 690" stroke="#ef4444" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="3,3"/>
        </svg>

        <div class="flow-description">
            <h3>üèóÔ∏è Complete System Overview</h3>
            <p style="margin-bottom: 15px; line-height: 1.8;">
                This unified observability platform handles both logs and metrics at scale. The architecture follows a
                <strong>lambda architecture pattern</strong> with hot/cold data paths and emphasizes
                <strong>decoupling</strong> through message queues.
            </p>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-top: 20px;">
                <div style="background: #f0f9ff; padding: 15px; border-radius: 10px; border-left: 4px solid #0284c7;">
                    <h4 style="color: #075985; margin-bottom: 8px;">üìù Log Path</h4>
                    <p style="font-size: 0.9em; color: #0c4a6e; line-height: 1.6;">
                        Apps ‚Üí Agents ‚Üí Fluentd ‚Üí Kafka ‚Üí Flink ‚Üí Elasticsearch ‚Üí Kibana
                        <br><strong>Volume:</strong> 100TB/day | <strong>Retention:</strong> 90 days hot
                    </p>
                </div>
                <div style="background: #f0fdf4; padding: 15px; border-radius: 10px; border-left: 4px solid #10b981;">
                    <h4 style="color: #065f46; margin-bottom: 8px;">üìà Metrics Path</h4>
                    <p style="font-size: 0.9em; color: #064e3b; line-height: 1.6;">
                        Apps ‚Üí Prometheus ‚Üí Thanos ‚Üí S3 ‚Üí Grafana
                        <br><strong>Cardinality:</strong> 10M series | <strong>Retention:</strong> 5 years
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Metrics Panel -->
    <div class="metrics-panel">
        <h2 style="margin-bottom: 15px; color: #92400e;">‚ö° System Performance Metrics</h2>
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-value">1M</div>
                <div class="metric-label">Events/sec (peak)</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">100TB</div>
                <div class="metric-label">Daily log volume</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">10M</div>
                <div class="metric-label">Active time series</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">&lt;500ms</div>
                <div class="metric-label">Query P95 latency</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">99.9%</div>
                <div class="metric-label">Availability SLA</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">90 days</div>
                <div class="metric-label">Hot retention</div>
            </div>
        </div>
    </div>

    <!-- Legend -->
    <div class="legend">
        <div class="legend-item">
            <div class="legend-color" style="background: linear-gradient(135deg, #60a5fa, #3b82f6);"></div>
            <span>Applications</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: linear-gradient(135deg, #84cc16, #65a30d);"></div>
            <span>Agents</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: linear-gradient(135deg, #ef4444, #dc2626);"></div>
            <span>Message Queue</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: linear-gradient(135deg, #818cf8, #6366f1);"></div>
            <span>Processing</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: linear-gradient(135deg, #fb923c, #f97316);"></div>
            <span>Storage</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: linear-gradient(135deg, #2dd4bf, #14b8a6);"></div>
            <span>Visualization</span>
        </div>
    </div>
</div>

<script>
    function showDiagram(type) {
        // Hide all diagrams
        document.querySelectorAll('.diagram-container').forEach(d => {
            d.classList.remove('active');
        });

        // Remove active from all tabs
        document.querySelectorAll('.tab').forEach(t => {
            t.classList.remove('active');
        });

        // Show selected diagram
        document.getElementById(type + '-diagram').classList.add('active');

        // Activate clicked tab
        event.target.classList.add('active');
    }

    // Add hover effects
    document.querySelectorAll('.component').forEach(comp => {
        comp.addEventListener('mouseenter', function() {
            this.style.filter = 'drop-shadow(0 0 15px rgba(99, 102, 241, 0.6))';
        });

        comp.addEventListener('mouseleave', function() {
            this.style.filter = 'none';
        });
    });
</script>
</body>
</html>
